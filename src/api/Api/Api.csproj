<Project Sdk="Microsoft.NET.Sdk" ToolsVersion="15.0">
  <PropertyGroup>
    <SolutionDir Condition=" '$(SolutionDir)' == '' ">..\..\..\</SolutionDir>
    <ProjectGuid>{B389ADAF-62CC-486E-85B4-2D8B078DF76B}</ProjectGuid>
    <AssemblyName>Unity.VersionControl.Git</AssemblyName>
    <RootNamespace>Unity.VersionControl.Git</RootNamespace>
  </PropertyGroup>
  <Import Project="$(SolutionDir)\common\properties.props" />
  <Import Project="$(SolutionDir)\common\libraries.props" />
  <ItemGroup>
    <ProjectReference Include="..\..\Localization\Localization.csproj" />
    <ProjectReference Include="..\Logging\Logging.csproj" />

    <Reference Include="Mono.Posix">
      <HintPath>..\Mono.Posix\Mono.Posix.dll</HintPath>
    </Reference>
    <Reference Include="sfw.net">
      <HintPath>..\sfw\sfw.net.dll</HintPath>
      <Private>True</Private>
    </Reference>
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'net35' ">
    <PackageReference Include="AsyncBridge.Net35" version="0.2.3333.0" />
    <PackageReference Include="ReadOnlyCollectionInterfaces" version="1.0.0" />
    <PackageReference Include="TaskParallelLibrary" version="1.0.3333.0" targetFramework="net35" />
    <PackageReference Include="ValueTupleBridge" Version="0.1.5" targetFramework="net35" />
    <Reference Include="System.Web" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="**\*.cs" Exclude="SolutionInfo.cs"/>
    <Compile Include="..\Process\**\*.cs" Exclude="..\Process\SolutionInfo.cs;..\Process\Properties\*">
      <Link>Process\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <Compile Include="..\SharpZipLib\**\*.cs" Exclude="..\SharpZipLib\SolutionInfo.cs;..\SharpZipLib\Properties\*">
      <Link>SharpZipLib\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <Compile Include="..\Threading\**\*.cs" Exclude="..\Threading\SolutionInfo.cs;..\Threading\Properties\*">
      <Link>Threading\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <Compile Include="..\Utilities\**\*.cs" Exclude="..\Utilities\SolutionInfo.cs;..\Utilities\Properties\*">
      <Link>Utilities\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <Compile Include="..\NiceIO\**\*.cs" Exclude="..\NiceIO\SolutionInfo.cs;..\NiceIO\Properties\*">
      <Link>NiceIO\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <Compile Include="..\SimpleJson\**\*.cs" Exclude="..\SimpleJson\SolutionInfo.cs;..\SimpleJson\Properties\*">
      <Link>SimpleJson\%(RecursiveDir)\%(Filename)</Link>
    </Compile>
    <EmbeddedResource Include="PlatformResources\**\gitconfig;PlatformResources\**\git-lfs.json;PlatformResources\windows\git.json" />
    <EmbeddedResource Include="Resources\*" Exclude="Resources\*.meta" />
    <None Remove="**\*.meta;*.DotSettings;*.ncrunch*;*.asmdef" />
  </ItemGroup>

  <ItemGroup>
    <Compile Condition=" '$(Buildtype)' == 'Internal'" Include="$(SolutionDir)\script\src\ApplicationInfo_Local.cs">
      <Link>Properties\ApplicationInfo_Local.cs</Link>
    </Compile>
    <Compile Condition=" '$(Buildtype)' != 'Internal' And Exists('$(SolutionDir)\common\ApplicationInfo_Local.cs')" Include="$(SolutionDir)\script\src\ApplicationInfo_Local.cs">
      <Link>Properties\ApplicationInfo_Local.cs</Link>
    </Compile>
    <None Include="$(SolutionDir)\common\ApplicationInfo_Local.cs-example">
      <Link>Properties\ApplicationInfo_Local.cs-example</Link>
    </None>
  </ItemGroup>

  <Import Project="$(SolutionDir)\common\build.targets" />
</Project>
